//,-----------------------------------------------------.                    ,-----------------------------------------------------.
//       24,      23,      18,      17,      10,       9,                           36,      37,      44,      45,      50,      51,
//|--------+--------+--------+--------+--------+--------|                    |--------+--------+--------+--------+--------+--------|
//       25,      22,      19,      16,      11,       8,                           35,      38,      43,      46,      49,      52,
//|--------+--------+--------+--------+--------+--------|                    |--------+--------+--------+--------+--------+--------|
//       26,      21,      20,      15,      12,       7,                           34,      39,      42,      47,      48,      53,
//|--------+--------+--------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------+--------|
                                    //       14,      13,       6,         33,      40,      41|
                                    //`--------------------------'  `--------------------------'
//,-----------------------------------------------------.                    ,-----------------------------------------------------.
//         ,       2,        ,       1,        ,       0,                           27,        ,      28,        ,      29,        ,
//|--------+--------+--------+--------+--------+--------|                    |--------+--------+--------+--------+--------+--------|
//         ,       3,        ,        ,        ,        ,                             ,        ,        ,        ,      30,        ,
//|--------+--------+--------+--------+--------+--------|                    |--------+--------+--------+--------+--------+--------|
//         ,        ,        ,       4,        ,       5,                           32,        ,      31,        ,        ,        ,
//|--------+--------+--------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------+--------|
                                    //         ,        ,        ,           ,       ,         |
                                    //`--------------------------'  `--------------------------'

#ifdef ENABLE_RGB_MATRIX_CUSTOM_LIMI7BREAK
RGB_MATRIX_EFFECT(LIMI7BREAK)
#    ifdef RGB_MATRIX_CUSTOM_EFFECT_IMPLS

#include <math.h>

static uint8_t hue(int x) {
    return 173 + 46 * sin(2 * M_PI / 255 * 2 * x);
}

static HSV LIMI7BREAK_math(HSV hsv, uint8_t i, uint8_t time) {
    hsv.h = hue(time + g_led_config.point[i].x / 2);
    hsv.s = RGB_MATRIX_DEFAULT_SAT;
    hsv.v = RGB_MATRIX_DEFAULT_VAL;
    return hsv;
}

static bool LIMI7BREAK(effect_params_t* params) {
    return effect_runner_i(params, &LIMI7BREAK_math);
}

#    endif // RGB_MATRIX_CUSTOM_EFFECT_IMPLS
#endif     // ENABLE_RGB_MATRIX_CUSTOM_LIMI7BREAK
